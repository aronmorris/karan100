import java.util.InputMismatchException;
import java.util.Scanner;

/**
 * Returns the change for a transaction in quarters, dimes, nickels, and pennies,
 * given a cost and amount paid.
 * @author Aron
 *
 */
public class ChangeReturn {
	
	public static void main(String[] args) {
		
		Scanner sc = new Scanner(System.in);
		
		double price, payment;
		
		boolean transactionContinue = true;
		
		while(transactionContinue) {
		
			System.out.printf("What is the price of the item?%n");
			
			price = doubleInputValidator(sc);
			
			System.out.printf("The cost is %.2f, how much are you paying for it?%n", price);
			
			payment = doubleInputValidator(sc);
			
			System.out.printf("The cost is %.2f, and the payment is %.2f.%n", price, payment);
		
			if (payment < price) {
				System.out.printf("You've paid too little!%n");
			}
			
			else if (payment == price) {
				System.out.printf("You've paid in exact change! Good on you!%n");
			}
			
			else {
				double remaining = Math.round((payment = price) * 100);
		
				int roundedChange = (int)remaining, 
				quarter = 25, qCount = 0, dime = 10, dCount = 0, nickel = 5, nCount = 0, penny = 1, pCount = 0;
				
				while (roundedChange >= 0) {
					if (roundedChange - 25 >= 25) {
						roundedChange -= 25;
						qCount++;
					}
				}
				 
			}
			
		}
		
	}
	
	//Ensures only valid input of type double is accepted
	//Writing multiple try/catches for one thing is lame
	public static double doubleInputValidator(Scanner sc) {
		double output = -1;
		boolean valid = false;
		
		while(!valid) {
			
			try {
				output = sc.nextDouble();
				valid = true;
			} catch (InputMismatchException e) {
				System.out.printf("Invalid input! Must be a price.%n");
				sc.next(); //consume invalid input
			}
			
		}
		
		return output;
	}
	
}
